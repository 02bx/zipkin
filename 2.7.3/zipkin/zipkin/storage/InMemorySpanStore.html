<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Tue Apr 24 12:18:12 UTC 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>InMemorySpanStore (Zipkin 2.7.3 API)</title>
<meta name="date" content="2018-04-24">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InMemorySpanStore (Zipkin 2.7.3 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":42};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InMemorySpanStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../zipkin/storage/Callback.html" title="interface in zipkin.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../zipkin/storage/InMemoryStorage.html" title="class in zipkin.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?zipkin/storage/InMemorySpanStore.html" target="_top">Frames</a></li>
<li><a href="InMemorySpanStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">zipkin.storage</div>
<h2 title="Class InMemorySpanStore" class="title">Class InMemorySpanStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>zipkin.storage.InMemorySpanStore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">InMemorySpanStore</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></pre>
<div class="block">Internally, spans are indexed on 64-bit trace ID

 <p>Here's an example of some traces in memory:

 <pre><code>
 spansByTraceIdTimeStamp:
    &lt;aaaa,July 4&gt; --&gt; ( spanA(time:July 4, traceId:aaaa, service:foo, name:GET),
                        spanB(time:July 4, traceId:aaaa, service:bar, name:GET) )
    &lt;cccc,July 4&gt; --&gt; ( spanC(time:July 4, traceId:aaaa, service:foo, name:GET) )
    &lt;bbbb,July 5&gt; --&gt; ( spanD(time:July 5, traceId:bbbb, service:biz, name:GET) )
    &lt;bbbb,July 6&gt; --&gt; ( spanE(time:July 6, traceId:bbbb) service:foo, name:POST )

 traceIdToTraceIdTimeStamps:
    aaaa --&gt; [ &lt;aaaa,July 4&gt; ]
    bbbb --&gt; [ &lt;bbbb,July 5&gt;, &lt;bbbb,July 6&gt; ]
    cccc --&gt; [ &lt;cccc,July 4&gt; ]

 serviceToTraceIds:
    foo --&gt; [ &lt;aaaa&gt;, &lt;cccc&gt;, &lt;bbbb&gt; ]
    bar --&gt; [ &lt;aaaa&gt; ]
    biz --&gt; [ &lt;bbbb&gt; ]

 serviceToSpanNames:
    bar --&gt; ( GET )
    biz --&gt; ( GET )
    foo --&gt; ( GET, POST )
 </code></pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#InMemorySpanStore--">InMemorySpanStore</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/DependencyLink.html" title="class in zipkin">DependencyLink</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getDependencies-long-java.lang.Long-">getDependencies</a></span>(long&nbsp;endTs,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;lookback)</code>
<div class="block">Returns dependency links derived from spans.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getRawTrace-long-">getRawTrace</a></span>(long&nbsp;traceId)</code>
<div class="block">This calls <a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-long-"><code>SpanStore.getRawTrace(long, long)</code></a> with <code>traceIdHigh</code> set to zero.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getRawTrace-long-long-">getRawTrace</a></span>(long&nbsp;traceIdHigh,
           long&nbsp;traceId)</code>
<div class="block">Retrieves spans that share a 128-bit trace id, as returned from backend data store queries,
 with no ordering expectation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getRawTraces--">getRawTraces</a></span>()</code>
<div class="block">Used for testing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getServiceNames--">getServiceNames</a></span>()</code>
<div class="block">Get all the <a href="../../zipkin/Endpoint.html#serviceName"><code>service names</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getSpanNames-java.lang.String-">getSpanNames</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;service)</code>
<div class="block">Get all the span names for a particular <a href="../../zipkin/Endpoint.html#serviceName"><code>Endpoint.serviceName</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getTrace-long-">getTrace</a></span>(long&nbsp;traceId)</code>
<div class="block">This calls <a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-"><code>SpanStore.getTrace(long, long)</code></a> with <code>traceIdHigh</code> set to zero.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getTrace-long-long-">getTrace</a></span>(long&nbsp;traceIdHigh,
        long&nbsp;traceIdLow)</code>
<div class="block">Get the available trace information from the storage system.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#getTraces-zipkin.storage.QueryRequest-">getTraces</a></span>(<a href="../../zipkin/storage/QueryRequest.html" title="class in zipkin.storage">QueryRequest</a>&nbsp;request)</code>
<div class="block">Get the available trace information from the storage system.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zipkin/storage/InMemorySpanStore.html#traceIds--">traceIds</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../zipkin/storage/InMemorySpanStore.html#getRawTraces--"><code>getRawTraces()</code></a></span></div>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InMemorySpanStore--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InMemorySpanStore</h4>
<pre>public&nbsp;InMemorySpanStore()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="traceIds--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>traceIds</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;traceIds()</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use <a href="../../zipkin/storage/InMemorySpanStore.html#getRawTraces--"><code>getRawTraces()</code></a></span></div>
</li>
</ul>
<a name="getRawTraces--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawTraces</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&gt;&nbsp;getRawTraces()</pre>
<div class="block">Used for testing. Returns all traces unconditionally.</div>
</li>
</ul>
<a name="getTraces-zipkin.storage.QueryRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTraces</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&gt;&nbsp;getTraces(<a href="../../zipkin/storage/QueryRequest.html" title="class in zipkin.storage">QueryRequest</a>&nbsp;request)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getTraces-zipkin.storage.QueryRequest-">SpanStore</a></code></span></div>
<div class="block">Get the available trace information from the storage system. Spans in trace are sorted by the
 first annotation timestamp in that span. First event should be first in the spans list.

 <p> Results are sorted in order of the first span's timestamp, and contain up to <a href="../../zipkin/storage/QueryRequest.html#limit"><code>QueryRequest.limit</code></a> elements.

 <p>If <a href="../../zipkin/storage/StorageComponent.Builder.html#strictTraceId-boolean-"><code>StorageComponent.Builder.strictTraceId(boolean)</code></a> is enabled, spans with the
 same 64-bit trace ID will be grouped together.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getTraces-zipkin.storage.QueryRequest-">getTraces</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getTrace-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrace</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&nbsp;getTrace(long&nbsp;traceId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getTrace-long-">SpanStore</a></code></span></div>
<div class="block">This calls <a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-"><code>SpanStore.getTrace(long, long)</code></a> with <code>traceIdHigh</code> set to zero.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getTrace-long-">getTrace</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getTrace-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrace</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&nbsp;getTrace(long&nbsp;traceIdHigh,
                           long&nbsp;traceIdLow)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-">SpanStore</a></code></span></div>
<div class="block">Get the available trace information from the storage system. Spans in trace are sorted by the
 first annotation timestamp in that span. First event should be first in the spans list.

 <p>When <a href="../../zipkin/storage/StorageComponent.Builder.html#strictTraceId-boolean-"><code>StorageComponent.Builder.strictTraceId(boolean)</code></a> is true, spans with the
 same <code>traceIdLow</code> are returned even if the <code>traceIdHigh is different</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-">getTrace</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceIdHigh</code> - The upper 64-bits of the trace ID. See <a href="../../zipkin/Span.html#traceIdHigh"><code>Span.traceIdHigh</code></a></dd>
<dd><code>traceIdLow</code> - The lower 64-bits of the trace ID. See <a href="../../zipkin/Span.html#traceId"><code>Span.traceId</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of spans with the same 128-bit trace ID, or null if not present.</dd>
</dl>
</li>
</ul>
<a name="getRawTrace-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawTrace</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&nbsp;getRawTrace(long&nbsp;traceId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-">SpanStore</a></code></span></div>
<div class="block">This calls <a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-long-"><code>SpanStore.getRawTrace(long, long)</code></a> with <code>traceIdHigh</code> set to zero.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-">getRawTrace</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getRawTrace-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawTrace</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/Span.html" title="class in zipkin">Span</a>&gt;&nbsp;getRawTrace(long&nbsp;traceIdHigh,
                              long&nbsp;traceId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-long-">SpanStore</a></code></span></div>
<div class="block">Retrieves spans that share a 128-bit trace id, as returned from backend data store queries,
 with no ordering expectation.

 <p>This is different, but related to <a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-"><code>SpanStore.getTrace(long, long)</code></a>. <a href="../../zipkin/storage/SpanStore.html#getTrace-long-long-"><code>SpanStore.getTrace(long, long)</code></a> cleans data by
 merging spans, adding timestamps and performing clock skew adjustment. This feature is for
 debugging zipkin logic or zipkin instrumentation.

 <p>When <a href="../../zipkin/storage/StorageComponent.Builder.html#strictTraceId-boolean-"><code>StorageComponent.Builder.strictTraceId(boolean)</code></a> is true, spans with the
 same <code>traceIdLow</code> are returned even if the <code>traceIdHigh is different</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getRawTrace-long-long-">getRawTrace</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceIdHigh</code> - The upper 64-bits of the trace ID. See <a href="../../zipkin/Span.html#traceIdHigh"><code>Span.traceIdHigh</code></a></dd>
<dd><code>traceId</code> - The lower 64-bits of the trace ID. See <a href="../../zipkin/Span.html#traceId"><code>Span.traceId</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of spans with the same 128-bit trace ID, or null if not present.</dd>
</dl>
</li>
</ul>
<a name="getServiceNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceNames</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getServiceNames()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getServiceNames--">SpanStore</a></code></span></div>
<div class="block">Get all the <a href="../../zipkin/Endpoint.html#serviceName"><code>service names</code></a>.

 <p> Results are sorted lexicographically</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getServiceNames--">getServiceNames</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getSpanNames-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpanNames</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getSpanNames(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;service)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getSpanNames-java.lang.String-">SpanStore</a></code></span></div>
<div class="block">Get all the span names for a particular <a href="../../zipkin/Endpoint.html#serviceName"><code>Endpoint.serviceName</code></a>.

 <p> Results are sorted lexicographically</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getSpanNames-java.lang.String-">getSpanNames</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getDependencies-long-java.lang.Long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDependencies</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../zipkin/DependencyLink.html" title="class in zipkin">DependencyLink</a>&gt;&nbsp;getDependencies(long&nbsp;endTs,
                                            @Nullable
                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;lookback)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../zipkin/storage/SpanStore.html#getDependencies-long-java.lang.Long-">SpanStore</a></code></span></div>
<div class="block">Returns dependency links derived from spans.

 <p>Implementations may bucket aggregated data, for example daily. When this is the case, endTs
 may be floored to align with that bucket, for example midnight if daily. lookback applies to
 the original endTs, even when bucketed. Using the daily example, if endTs was 11pm and lookback
 was 25 hours, the implementation would query against 2 buckets.

 <p>Some implementations parse <a href="https://github.com/openzipkin/zipkin/zipkin/apidocs/zipkin2/Span.html?is-external=true" title="class or interface in zipkin2"><code>Span</code></a> from storage and call
 <code>DependencyLinker</code> to aggregate links. The reason is certain graph logic,
 such as skipping up the tree is difficult to implement as a storage query.

 <p>There's no parameter to indicate how to handle mixed ID length: this operates the same as if
 <a href="../../zipkin/storage/StorageComponent.Builder.html#strictTraceId-boolean-"><code>StorageComponent.Builder.strictTraceId(boolean)</code></a> was set to false. This ensures call
 counts are not incremented twice due to one hop downgrading from 128 to 64-bit trace IDs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../zipkin/storage/SpanStore.html#getDependencies-long-java.lang.Long-">getDependencies</a></code>&nbsp;in interface&nbsp;<code><a href="../../zipkin/storage/SpanStore.html" title="interface in zipkin.storage">SpanStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endTs</code> - only return links from spans where <a href="../../zipkin/Span.html#timestamp"><code>Span.timestamp</code></a> are at or before this
 time in epoch milliseconds.</dd>
<dd><code>lookback</code> - only return links from spans where <a href="../../zipkin/Span.html#timestamp"><code>Span.timestamp</code></a> are at or after
 (endTs - lookback) in milliseconds. Defaults to endTs.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>dependency links in an interval contained by (endTs - lookback) or empty if none are
 found</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InMemorySpanStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../zipkin/storage/Callback.html" title="interface in zipkin.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../zipkin/storage/InMemoryStorage.html" title="class in zipkin.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?zipkin/storage/InMemorySpanStore.html" target="_top">Frames</a></li>
<li><a href="InMemorySpanStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2018 <a href="http://zipkin.io/">OpenZipkin</a>. All rights reserved.</small></p>
</body>
</html>
